# Test Dependencies (tests/vendor)

The tests have their own `composer.json` and `vendor/` directory to keep test dependencies separate from Tsugi's dependencies.

## Why tests/vendor?

- **Independence**: Tests don't depend on Tsugi's vendor directory
- **Isolation**: Test dependencies (like Panther) are separate from application dependencies
- **Flexibility**: Can update test dependencies without affecting Tsugi

## Setup

Install test dependencies:

```bash
cd tests
composer install
```

This will create `tests/vendor/` with:
- `symfony/panther` - Browser automation for tests
- `dbrekelmans/bdi` - Browser driver installer

## How It Works

All test files check for `tests/vendor/autoload.php` first, then fall back to `tsugi/vendor/autoload.php` if needed:

```php
// Load Composer autoloader - prefer tests/vendor, fallback to tsugi/vendor
if (file_exists(__DIR__ . '/../vendor/autoload.php')) {
    require_once __DIR__ . '/../vendor/autoload.php';
} else {
    require_once __DIR__ . '/../../tsugi/vendor/autoload.php';
}
```

This ensures tests work whether dependencies are in `tests/vendor` or `tsugi/vendor`.

## Updating Dependencies

To update test dependencies:

```bash
cd tests
composer update
```

## .gitignore

The `tests/vendor/` directory should be in `.gitignore` (it's generated by Composer).
